{"remainingRequest":"D:\\idea_project\\ShoppingManageSystem\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\idea_project\\ShoppingManageSystem\\admin\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\idea_project\\ShoppingManageSystem\\admin\\src\\api\\axios.js","dependencies":[{"path":"D:\\idea_project\\ShoppingManageSystem\\admin\\src\\api\\axios.js","mtime":1636968211547},{"path":"D:\\idea_project\\ShoppingManageSystem\\admin\\babel.config.js","mtime":1636852496362},{"path":"D:\\idea_project\\ShoppingManageSystem\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\idea_project\\ShoppingManageSystem\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\idea_project\\ShoppingManageSystem\\admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovaWRlYV9wcm9qZWN0L1Nob3BwaW5nTWFuYWdlU3lzdGVtL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9pZGVhX3Byb2plY3QvU2hvcHBpbmdNYW5hZ2VTeXN0ZW0vYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9pZGVhX3Byb2plY3QvU2hvcHBpbmdNYW5hZ2VTeXN0ZW0vYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vIOS6jOasoeWwgeijhWF4aW9z5oum5oiq5ZmoCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnL2luZGV4JzsgLy8g6K6+572u6YWN572uIOagueaNruW8gOWPkSDlkowg55Sf5Lqn546v5aKD5LiN5LiA5qC3Cgp2YXIgYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gY29uZmlnLmJhc2VVcmwuZGV2IDogY29uZmlnLmJhc2VVcmwucHJvOwoKdmFyIEh0dHBSZXF1ZXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBIdHRwUmVxdWVzdChiYXNlVXJsKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSHR0cFJlcXVlc3QpOwoKICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSHR0cFJlcXVlc3QsIFt7CiAgICBrZXk6ICJnZXRJbnNpZGVDb25maWciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluc2lkZUNvbmZpZygpIHsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBiYXNlVVJMOiB0aGlzLmJhc2VVcmwsCiAgICAgICAgaGVhZGVyOiB7fQogICAgICB9OwogICAgICByZXR1cm4gY29uZmlnOwogICAgfQogIH0sIHsKICAgIGtleTogImludGVyY2VwdG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZXJjZXB0b3JzKGluc3RhbmNlKSB7CiAgICAgIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgICAgLy8g5Zyo5Y+R6YCB6K+35rGC5LmL5YmN5YGa5Lqb5LuA5LmICiAgICAgICAgY29uc29sZS5sb2coJ+aLpuaIquWkhOeQhuivt+axgi4uLicpOwogICAgICAgIHJldHVybiBjb25maWc7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vIOWvueivt+axgumUmeivr+WBmuS6m+S7gOS5iAogICAgICAgIGNvbnNvbGUubG9nKCLor7fmsYLlh7rplJnvvJoiICsgZXJyb3IpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKCflpITnkIblk43lupQuLi4nKTsgLy8g5a+55ZON5bqU5pWw5o2u5YGa54K55LuA5LmICgogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygi5ZON5bqU5Ye66ZSZ77yaIiArIGVycm9yKTsgLy8g5a+55ZON5bqU6ZSZ6K+v5YGa54K55LuA5LmICgogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlcXVlc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVlc3Qob3B0aW9ucykgewogICAgICB2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoKTsKICAgICAgb3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRJbnNpZGVDb25maWcoKSksIG9wdGlvbnMpOwogICAgICBjb25zb2xlLmxvZyhvcHRpb25zKTsKICAgICAgdGhpcy5pbnRlcmNlcHRvcnMoaW5zdGFuY2UpOwogICAgICByZXR1cm4gaW5zdGFuY2Uob3B0aW9ucyk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSHR0cFJlcXVlc3Q7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBIdHRwUmVxdWVzdChiYXNlVXJsKTs="},{"version":3,"sources":["D:/idea_project/ShoppingManageSystem/admin/src/api/axios.js"],"names":["axios","config","baseUrl","process","env","NODE_ENV","dev","pro","HttpRequest","baseURL","header","instance","interceptors","request","use","console","log","error","Promise","reject","response","data","options","create","getInsideConfig"],"mappings":";;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB,C,CACA;;AACA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyCJ,MAAM,CAACC,OAAP,CAAeI,GAAxD,GAA8DL,MAAM,CAACC,OAAP,CAAeK,GAA7F;;IACMC,W;AACF,uBAAYN,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACH;;;;WACD,2BAAmB;AACf,UAAMD,MAAM,GAAG;AACXQ,QAAAA,OAAO,EAAE,KAAKP,OADH;AAEXQ,QAAAA,MAAM,EAAE;AAFG,OAAf;AAMA,aAAOT,MAAP;AACH;;;WACD,sBAAcU,QAAd,EAAwB;AACpBA,MAAAA,QAAQ,CAACC,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAAUb,MAAV,EAAkB;AAChD;AACAc,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,eAAOf,MAAP;AACH,OAJD,EAIG,UAAUgB,KAAV,EAAiB;AAChB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAQC,KAApB;AACA,eAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,OARD;AAUAN,MAAAA,QAAQ,CAACC,YAAT,CAAsBQ,QAAtB,CAA+BN,GAA/B,CAAmC,UAAUM,QAAV,EAAoB;AACnDL,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EADmD,CAEnD;;AACA,eAAOI,QAAQ,CAACC,IAAhB;AACH,OAJD,EAIG,UAAUJ,KAAV,EAAiB;AAChBF,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAQC,KAApB,EADgB,CAEhB;;AACA,eAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,OARD;AASH;;;WACD,iBAASK,OAAT,EAAkB;AACd,UAAMX,QAAQ,GAAGX,KAAK,CAACuB,MAAN,EAAjB;AACAD,MAAAA,OAAO,mCAAS,KAAKE,eAAL,EAAT,GAAqCF,OAArC,CAAP;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYM,OAAZ;AACA,WAAKV,YAAL,CAAkBD,QAAlB;AACA,aAAOA,QAAQ,CAACW,OAAD,CAAf;AACH;;;;;;AAGL,eAAe,IAAId,WAAJ,CAAgBN,OAAhB,CAAf","sourcesContent":["// 二次封装axios拦截器\r\nimport axios from 'axios'\r\nimport config from '../config/index'\r\n// 设置配置 根据开发 和 生产环境不一样\r\nconst baseUrl = process.env.NODE_ENV === 'development' ? config.baseUrl.dev : config.baseUrl.pro;\r\nclass HttpRequest {\r\n    constructor(baseUrl) {\r\n        this.baseUrl = baseUrl\r\n    }\r\n    getInsideConfig () {\r\n        const config = {\r\n            baseURL: this.baseUrl,\r\n            header: {\r\n\r\n            }\r\n        };\r\n        return config\r\n    }\r\n    interceptors (instance) {\r\n        instance.interceptors.request.use(function (config) {\r\n            // 在发送请求之前做些什么\r\n            console.log('拦截处理请求...');\r\n            return config;\r\n        }, function (error) {\r\n            // 对请求错误做些什么\r\n            console.log(\"请求出错：\"+error);\r\n            return Promise.reject(error);\r\n        });\r\n\r\n        instance.interceptors.response.use(function (response) {\r\n            console.log('处理响应...');\r\n            // 对响应数据做点什么\r\n            return response.data;\r\n        }, function (error) {\r\n            console.log(\"响应出错：\"+error);\r\n            // 对响应错误做点什么\r\n            return Promise.reject(error);\r\n        });\r\n    }\r\n    request (options) {\r\n        const instance = axios.create();\r\n        options = { ...(this.getInsideConfig()), ...options };\r\n        console.log(options);\r\n        this.interceptors(instance);\r\n        return instance(options)\r\n    }\r\n}\r\n\r\nexport default new HttpRequest(baseUrl)"]}]}